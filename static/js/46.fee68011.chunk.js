"use strict";(self.webpackChunkpractic_react=self.webpackChunkpractic_react||[]).push([[46],{9046:function(e,t,n){n.r(t),n.d(t,{default:function(){return X}});var s=n(3433),r=n(5861),a=n(9439),c=n(7757),o=n.n(c),i=n(2791),l=n(5671),u=n(3144),h=n(136),d=n(3668),p=n(4164),m="modal_overlay__gtXc2",f="modal_modal__e093m",_="modal_close__WlIUH",v=n(184),x=document.getElementById("modal-root"),g=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,l.Z)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleClose=function(t){var n=t.target,s=t.currentTarget,r=t.code;n!==s&&"Escape"!==r||e.props.close()},e}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){document.body.addEventListener("keydown",this.handleClose)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.handleClose)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.close;return(0,p.createPortal)((0,v.jsx)("div",{onClick:this.handleClose,className:m,children:(0,v.jsxs)("div",{className:f,children:[(0,v.jsx)("span",{onClick:n,className:_,children:"X"}),t]})}),x)}}]),n}(i.Component),b=g,y=n(1413),j=n(4942),Z="posts-search-form_input__qeYgI",k="posts-search-form_button__Cv887",C=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,l.Z)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.handleChange=function(t){var n=t.target,s=n.name,r=n.value,a=n.checked,c="checkbox"===n.type?a:r;e.setState((0,j.Z)({},s,c))},e.handleSubmit=function(t){t.preventDefault(),(0,e.props.onSubmit)((0,y.Z)({},e.state)),e.reset()},e}return(0,u.Z)(n,[{key:"reset",value:function(){this.setState({search:""})}},{key:"render",value:function(){var e=this.state.search;return(0,v.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,v.jsx)("input",{className:Z,name:"search",value:e,onChange:this.handleChange,placeholder:"Search post",required:!0}),(0,v.jsx)("button",{className:k,type:"submit",children:"Search"})]})}}]),n}(i.Component),S=C,N=n(4047),w="posts-search_heading__GbSt-",E="posts-search_list__hVYzP",q="posts-search_item__MxOh+",L="posts-search_itemTitle__1ID-s",I="posts-search_error__Cflpi",P="posts-search_detailsTitle__3x0Ve",A="posts-search_detailsContent__EA9w4",D="posts-search_button__RXpbq",T=function(){var e=(0,i.useState)(""),t=(0,a.Z)(e,2),n=t[0],c=t[1],l=(0,i.useState)([]),u=(0,a.Z)(l,2),h=u[0],d=u[1],p=(0,i.useState)("idle"),m=(0,a.Z)(p,2),f=m[0],_=m[1],x=(0,i.useState)(null),g=(0,a.Z)(x,2),y=g[0],j=g[1],Z=(0,i.useState)(1),k=(0,a.Z)(Z,2),C=k[0],T=k[1],U=(0,i.useState)(!1),X=(0,a.Z)(U,2),B=X[0],M=X[1],R=(0,i.useState)({}),V=(0,a.Z)(R,2),W=V[0],Y=V[1];(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)(o().mark((function e(){var t,r,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_("pending"),e.next=4,(0,N.cl)(n,C);case 4:t=e.sent,r=t.data,d((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(r))})),_("success"),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),a=e.t0.response,c=a.data.message||"Cannot fetch posts",j(c),_("error");case 16:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();n&&e()}),[n,C]);var z=h.map((function(e){var t=e.id,n=e.title,s=e.body;return(0,v.jsxs)("li",{onClick:function(){return function(e){var t=e.title,n=e.body;M(!0),Y({title:t,body:n})}({title:n,body:s})},className:q,children:[(0,v.jsx)("h4",{className:L,children:n}),(0,v.jsx)("p",{children:s})]},t)}));return(0,v.jsxs)(v.Fragment,{children:[B&&(0,v.jsxs)(b,{close:function(){M(!1),Y({})},children:[(0,v.jsx)("h3",{className:P,children:W.title}),(0,v.jsx)("p",{className:A,children:W.body})]}),(0,v.jsx)("h2",{className:w,children:"Posts"}),(0,v.jsx)(S,{onSubmit:function(e){var t=e.search;c(t),T(1),d([])}}),"pending"===f&&(0,v.jsx)("p",{children:"... Loading"}),y&&(0,v.jsx)("p",{className:I,children:y}),(0,v.jsx)("ul",{className:E,children:z}),"success"===f&&!h.length&&(0,v.jsx)("p",{children:"Nothing found"}),Boolean(h.length)&&(0,v.jsx)("button",{onClick:function(){return T((function(e){return e+1}))},className:D,type:"button",children:"Load more"})]})},U="post-page_title__Ebbqv",X=function(){return(0,v.jsxs)("div",{className:"container",children:[(0,v.jsx)("h1",{className:U,children:"Post page"}),(0,v.jsx)(T,{})]})}},4047:function(e,t,n){n.d(t,{Jq:function(){return r},cl:function(){return a},u_:function(){return c},w8:function(){return o}});var s=n(5294).Z.create({baseURL:"https://jsonplaceholder.typicode.com/posts"}),r=function(){return s.get("/")},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return s.get("/",{params:{q:e,_page:t,_limit:4}})},c=function(e){return s.get("/".concat(e))},o=function(e){return s.get("/".concat(e,"/comments"))}}}]);
//# sourceMappingURL=46.fee68011.chunk.js.map